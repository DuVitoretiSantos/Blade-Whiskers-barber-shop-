'use strict'
var http = require('http');
var readline = require('readline');
var rl = readline.createInterface({
	input: process.stdin,
	output: process.stdout
});
// rl.prompt(true)
module.exports = function(id) {
	var autoComNum = 'http://www.kuaidi100.com/autonumber/autoComNum?text=' + id;
	if (!id) {
		console.log('ckd 2016030810005');
	}
	var req = http.get(autoComNum, function(res) {
        var body = '';
		res.setEncoding('utf8');
		res.on('data', function(chunk) {
			body += chunk; // 字符串会被截断，拼接起来
		}).on('end', function() {
			body=JSON.parse(body);
			var auto=body.auto;
			var message='dfsdf';
			var message=auto.map(function(data,i){
				return data.comCode;
			});
			rl.question(message, function() {
				console.log(auto);
			});
		});
	});
	req.on('error', function(e) {
		console.log('problem with request: ' + e.message);
	});

	req.end();
	//var url='http://www.kuaidi100.com/query?type=' + type + '&postid=' + id;
}